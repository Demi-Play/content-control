{% extends 'base.html' %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<div class="home-container" style="
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: calc(100vh - 40px); /* Учитываем отступы */
">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="ant-alert ant-alert-{{ category }}" style="
                    margin-bottom: 20px;
                    padding: 10px;
                    border-radius: 8px;
                    background-color: {% if category == 'error' %}#ff4d4f{% else %}#1890ff{% endif %};
                    color: #fff;
                    text-align: center;
                ">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" style="
        max-width: 400px;
        width: 100%;
        padding: 30px;
        background-color: #fff;
        border-radius: 30px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    ">
        <h1 style="font-size: 2rem; color: #333; margin-bottom: 30px; text-align: center; font-weight: 600;">Регистрация</h1>
        
        {{ form.hidden_tag() }}
        
        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.username.label(style='color: #333; font-weight: 500; margin-bottom: 5px; display: block;') }}
            {{ form.username(class='ant-input', size=32, style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ', placeholder='Введите имя пользователя') }}
            {% for error in form.username.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.email.label(style='color: #333; font-weight: 500; margin-bottom: 5px; display: block;') }}
            {{ form.email(class='ant-input', size=32, style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ', placeholder='Введите email') }}
            {% for error in form.email.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.password.label(style='color: #333; font-weight: 500; margin-bottom: 5px; display: block;') }}
            {{ form.password(class='ant-input', size=32, style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ', placeholder='Введите пароль') }}
            {% for error in form.password.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <button type="submit" class="ant-btn ant-btn-primary" style="
            width: 100%;
            padding: 25px;
            border-radius: 50px;
            background-color: #FD3536;
            border-color: #FD3536;
            font-size: 1rem;
            font-weight: 500;
            color: #fff;
            transition: background-color 0.3s ease;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        ">
            {{ form.submit.label() }}
        </button>

        <div style="text-align: center;">
            <a href="{{ url_for('auth.login') }}" style="
                color: #1890ff;
                text-decoration: none;
                font-weight: 400;
                display: block;
            ">
                Уже есть аккаунт? Войти
            </a>
        </div>
    </form>
</div>
{% endblock %}