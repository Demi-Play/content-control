{% extends 'base.html' %}

{% block title %}Восстановление пароля{% endblock %}

{% block content %}
<div class="home-container" style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;">
    <h1 style="color: #fff; margin-bottom: 30px;">Восстановление пароля</h1>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="ant-alert ant-alert-{{ category }}" style="margin-bottom: 20px;">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" style="max-width: 400px;">
        {{ form.hidden_tag() }}
        
        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.username.label(style='color: #fff;') }}<br>
            {{ form.username(class='ant-input', size=32, style='color: #fff; background-color: #5c5c5c;') }}
            {% for error in form.username.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.email.label(style='color: #fff;') }}<br>
            {{ form.email(class='ant-input', size=32, style='color: #fff; background-color: #5c5c5c;') }}
            {% for error in form.email.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.password.label(style='color: #fff;') }}<br>
            {{ form.password(class='ant-input', size=32, style='color: #fff; background-color: #5c5c5c;') }}
            {% for error in form.password.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.password2.label(style='color: #fff;') }}<br>
            {{ form.password2(class='ant-input', size=32, style='color: #fff; background-color: #5c5c5c;') }}
            {% for error in form.password2.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <button type="submit" class="ant-btn ant-btn-primary" style="width: 100%;">{{ form.submit.label() }}</button>
    </form>

    <div style="margin-top: 20px; text-align: center;">
        <a href="{{ url_for('auth.login') }}" style="color: #1890ff;">Вспомнили пароль? - Войдите.</a>
    </div>
</div>
{% endblock %}