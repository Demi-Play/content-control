{% extends 'base.html' %}

{% block title %}Редактирование пользователя{% endblock %}

{% block content %}
<div class="home-container" style="
    max-width: 800px;
    margin: 0 auto;
    padding: 40px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
">
    <h1 style="font-size: 2rem; color: #333; margin-bottom: 30px; text-align: center; font-weight: 600;">Редактирование пользователя</h1>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="ant-alert ant-alert-{{ category }}" style="
                    margin-bottom: 20px;
                    padding: 10px;
                    border-radius: 8px;
                    background-color: {% if category == 'error' %}#ff4d4f{% else %}#1890ff{% endif %};
                    color: #fff;
                    text-align: center;
                ">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" class="ant-form" style="
        width: 100%;
        max-width: 600px;
        background-color: #fff;
        border-radius: 30px;
        padding: 30px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    ">
        {{ form.hidden_tag() }}
        
        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.username.label(style='display: block; color: #333; font-weight: 500; margin-bottom: 5px;') }}
            {{ form.username(class='ant-input', style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ', placeholder='Введите имя пользователя') }}
            {% for error in form.username.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.email.label(style='display: block; color: #333; font-weight: 500; margin-bottom: 5px;') }}
            {{ form.email(class='ant-input', style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ', placeholder='Введите email') }}
            {% for error in form.email.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.role.label(style='display: block; color: #333; font-weight: 500; margin-bottom: 5px;') }}
            {{ form.role(class='ant-select', style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ') }}
            {% for error in form.role.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>

        <div class="ant-form-item" style="margin-bottom: 20px;">
            {{ form.password.label(style='display: block; color: #333; font-weight: 500; margin-bottom: 5px;') }}
            {{ form.password(class='ant-input', style='
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid #d9d9d9;
                background-color: #f5f5f5;
                color: #333;
                font-size: 1rem;
            ', placeholder='Введите новый пароль (оставьте пустым, чтобы не менять)') }}
            {% for error in form.password.errors %}
            <div class="ant-form-item-explain ant-form-item-explain-error" style="color: #ff4d4f; margin-top: 5px;">
                {{ error }}
            </div>
            {% endfor %}
        </div>


        

        

        <div style="display: flex; gap: 10px; margin-top: 30px;">
            {{ form.submit(class='ant-btn ant-btn-primary', style='
                padding: 14px;
                border-radius: 50px;
                background-color: #FD3536;
                border-color: #FD3536;
                font-size: 1rem;
                font-weight: 500;
                color: #fff;
                transition: background-color 0.3s ease;
                display: flex;
                justify-content: center;
                align-items: center;
            ') }}
            <button class="ant-btn ant-btn-default" style="
                   padding: 1px 20px;
                border-radius: 50px;
                background-color: #FD3536;
                border-color: #FD3536;
                font-size: 16px;
                font-weight: 500;
                color: #fff;
                transition: background-color 0.3s ease;
                display: flex;
                justify-content: center;
                align-items: center;
            ">
                {{form.submit.label}}
            </button>
            <a href="{{ url_for('admin.list_users') }}" class="ant-btn ant-btn-default" style="
                   padding: 1px 20px;
                border-radius: 50px;
                background-color: #FD3536;
                border-color: #FD3536;
                font-size: 16px;
                font-weight: 500;
                color: #fff;
                transition: background-color 0.3s ease;
                display: flex;
                justify-content: center;
                align-items: center;
            ">
                Отмена
            </a>
        </div>
    </form>
</div>
{% endblock %}
